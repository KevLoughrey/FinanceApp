{% if incomes %}
<div class="row fw-bold border-bottom pb-2">
    <div class="col-md-2">Date</div>
    <div class="col-md-2">Name</div>
    <div class="col-md-2">Amount</div>
    <div class="col-md-2">Category</div>
    <div class="col-md-3">Description</div>
    <div class="col-md-1">Actions</div>
</div>
{% for income in incomes %}
<div class="row py-2 align-items-center" id="income-row-{{ income.id }}">
    <div class="col-md-2 date">{{ income.date }}</div>
    <div class="col-md-2 name">{{ income.name }}</div>
    <div class="col-md-2 amount">â‚¬{{ '%.2f'|format(income.amount) }}</div>
    <div class="col-md-2 category">{{ income.category.name }}</div>
    <div class="col-md-3 description">{{ income.description or '-' }}</div>
    <div class="col-md-1">
        <button class="btn btn-sm btn-outline-primary edit-btn" data-id="{{ income.id }}">âœŽ</button>
        <button class="btn btn-sm btn-outline-danger delete-btn" data-id="{{ income.id }}">ðŸ—‘</button>
    </div>
</div>
<form class="row g-2 align-items-center d-none income-edit-form border-top pt-2 pb-2" id="income-edit-{{ income.id }}" data-id="{{ income.id }}">
    <div class="col-md-2">
        <input type="date" name="date" value="{{ income.date }}" class="form-control form-control-sm">
    </div>
    <div class="col-md-2">
        <input type="text" name="name" value="{{ income.name }}" class="form-control form-control-sm">
    </div>
    <div class="col-md-2">
        <input type="number" name="amount" value="{{ income.amount }}" step="0.01" class="form-control form-control-sm">
    </div>
    <div class="col-md-2">
        <select name="category" class="form-select form-select-sm">
        {% for cat in income_categories %}
        <option value="{{ cat.id }}" {% if cat.id == income.category_id %}selected{% endif %}>{{ cat.name }}</option>
        {% endfor %}
        </select>
    </div>
    <div class="col-md-3">
        <input type="text" name="description" value="{{ income.description }}" class="form-control form-control-sm">
    </div>
    <div class="col-md-1 d-flex gap-1">
        <button type="submit" class="btn btn-sm btn-primary">âœ“</button>
        <button type="button" class="btn btn-sm btn-secondary cancel-btn" data-id="{{ income.id }}">âœ—</button>
    </div>
</form>
{% endfor %}
{% else %}
<p>No income found.</p>
{% endif %}
<!-- <div class="modal fade" id="deleteIncomeConfirmModal" tabindex="-1" aria-labelledby="deleteIncomeConfirmModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
    <div class="modal-header">
        <h5 class="modal-title" id="deleteIncomeConfirmModalLabel">Confirm Deletion</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        Are you sure you want to delete this income?
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" id="confirmIncomeDeleteBtn" class="btn btn-danger">Delete</button>
    </div>
    </div>
</div>
</div> -->